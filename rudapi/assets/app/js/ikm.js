var Dashboard={Total:ko.observable(0),TotalBaru:ko.observable(0),FirstLoad:!0,GetData:function(){var e=BASE_URL+"ikm/dashboard/getresult",a={id_kua:$("#ikm_kua").val()},t=this;App.IsLoading(!0),ajaxPost(e,a,function(e){t.PopulateData(e)},function(e){})},PopulateData:function(e){var a=0,t=0,n=0;null!=e.sangat_puas&&(a=e.sangat_puas),null!=e.puas&&(t=e.puas),null!=e.tidak_puas&&(n=e.tidak_puas),""==a&&(a=0),""==t&&(t=0),""==n&&(n=0);n={series:[parseInt(a),parseInt(t),parseInt(n)],chart:{width:520,type:"pie"},labels:["Sangat Puas","Puas","Tidak Puas"],responsive:[{breakpoint:480,options:{chart:{width:240},legend:{position:"bottom"}}}]};new ApexCharts(document.querySelector("#chart"),n).render(),App.IsLoading(!1)},Init:function(){this.GetData()}},Ikm={ObjectLoadedFirst:Dashboard,RefreshPage:function(){window.location.href=BASE_URL+"ikm/dashboard"},Init:function(){this.ObjectLoadedFirst.Init()},ToggleFullScreen:function(){var e=".main-wrapper.clearfix";document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?($("#toggle-fs-ctrl").find("i").text("fullscreen"),$(e).removeClass("overflow-auto"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()):($("#toggle-fs-ctrl").find("i").text("fullscreen_exit"),$(e).addClass("overflow-auto"),element=$(e).get(0),element.requestFullscreen?element.requestFullscreen():element.mozRequestFullScreen?element.mozRequestFullScreen():element.webkitRequestFullscreen?element.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):element.msRequestFullscreen&&element.msRequestFullscreen())},PopulateMasterProvince:function(e,a,t,n,s,i,c,l,u){var o=this;$.ajax({url:e,data:{},method:"GET",cache:!1,contentType:!1,processData:!1,success:function(e){e.success?(e.data.splice(0,0,{id:"",text:"Pilih Provinsi"}),$("#ikm_provinsi").select2({data:e.data,placeholder:"Pilih Provinsi"}),$("#ikm_provinsi").select2().on("change",function(){o.PopulateMasterCities(a,t,n,s,c,l,u)}),$("#ikm_provinsi").val(i),$("#ikm_provinsi").select2().trigger("change")):swal("Error getting province master data!",e.message,"warning")}})},PopulateMasterCities:function(e,a,t,n,s,i,c){var l=$("#ikm_provinsi").val(),u=this;$.ajax({url:e+"/"+l,data:{},method:"GET",cache:!1,contentType:!1,processData:!1,success:function(e){e.success?(e.data.splice(0,0,{id:"",text:"Semua Kabupaten/Kota"}),$("#ikm_kabupaten").find("option").remove().end(),null!=$("#ikm_kabupaten").select2()&&$("#ikm_kabupaten").select2("destroy"),$("#ikm_kabupaten").select2({data:e.data,placeholder:"Semua Kabupaten/Kota"}),$("#ikm_kabupaten").select2().on("change",function(){u.PopulateMasterDistrict(a,t,n,i,c)}),$("#ikm_kabupaten").val(s),$("#ikm_kabupaten").select2().trigger("change")):swal("Error getting kabupaten master data!",e.message,"warning")}})},PopulateMasterDistrict:function(e,a,t,n,s){var i=$("#ikm_kabupaten").val(),c=this;$.ajax({url:e+"/"+i,data:{},method:"GET",cache:!1,contentType:!1,processData:!1,success:function(e){e.success?(e.data.splice(0,0,{id:"",text:"Semua Kecamatan"}),$("#ikm_kecamatan").find("option").remove().end(),null!=$("#ikm_kecamatan").select2()&&$("#ikm_kecamatan").select2("destroy"),$("#ikm_kecamatan").select2({data:e.data}),$("#ikm_kecamatan").select2().on("change",function(){c.PopulateMasterKua(a,t,s)}),$("#ikm_kecamatan").val(n),$("#ikm_kecamatan").select2().trigger("change")):swal("Error getting kecamatan master data!",e.message,"warning")}})},PopulateMasterKua:function(e,a,t){var n=$("#ikm_kecamatan").val(),s=this;$.ajax({url:e+"/"+n,data:{},method:"GET",cache:!1,contentType:!1,processData:!1,success:function(e){e.success?(e.data.splice(0,0,{id:"",text:"Semua KUA"}),$("#ikm_kua").find("option").remove().end(),null!=$("#ikm_kua").select2()&&$("#ikm_kua").select2("destroy"),$("#ikm_kua").select2({data:e.data}),$("#ikm_kua").select2().on("change",function(){s.Init()}),$("#ikm_kua").val(t),$("#ikm_kua").select2().trigger("change")):swal("Error getting kecamatan master data!",e.message,"warning")}})}};