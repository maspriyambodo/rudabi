!function(a){"function"==typeof define&&define.amd?define(["jquery","knockout","module"],a):a(jQuery,ko)}(function(a,b,c){"use strict";function d(c,d){var e,f=b.isObservable(d);f&&(e=d.equalityComparer,d.equalityComparer=function(){return!0}),a(c).trigger("change"),f&&(d.equalityComparer=e)}function e(c,e,f,h,i){var j=b.unwrap(e()),k=f(),l=!1,m=null,n=null;a(c).on("select2:selecting select2:unselecting",function(){l=!0}),a(c).on("select2:select select2:unselect",function(){l=!1}),b.isObservable(k.value)?n=k.value.subscribe(function(a){l||d(c,this._target||this.target)}):b.isObservable(k.selectedOptions)&&(n=k.selectedOptions.subscribe(function(a){l||d(c,this._target||this.target)})),b.isWriteableObservable(k[g])&&(m=function(){a(c).data("select2")&&k[g](a(c).select2("data"))},a(c).on("change",m)),a(c).select2(j),b.utils.domNodeDisposal.addDisposeCallback(c,function(){a(c).select2("destroy"),null!==m&&a(c).off("change",m),null!==n&&n.dispose()})}var f="select2";c&&c.config()&&c.config().name&&(f=c.config().name);var g=f+"Data";return b.bindingHandlers[f]={init:function(){var a=arguments;setTimeout(function(){e.apply(null,a)},0)}}});