!function(d){d.fn.formToWizard=function(n,e){if(0==this.length)return this;"string"!=typeof n&&(n=d.extend({submitButton:"",showProgress:!0,showStepNo:!0,validateBeforeNext:null,select:null,progress:null,nextBtnName:"Selanjutnya",prevBtnName:"Sebelumnya",buttonTag:"a",nextBtnClass:"btn next",prevBtnClass:"btn prev"},n));var i=this,t=d(i).find("fieldset"),s=t.size(),o="#"+n.submitButton,p=null;if("string"!=typeof n)d(i).data("options",n),"function"!=typeof n.validateBeforeNext&&(n.validateBeforeNext=function(){return!0}),n.showProgress&&"function"!=typeof n.progress&&(n.showStepNo?d(i).before("<ul id='steps' class='steps'></ul>"):d(i).before("<ul id='steps' class='steps breadcrumb'></ul>")),t.each(function(e){d(this).wrap('<div id="step'+e+'" class="stepDetails"></div>'),d(this).append('<p id="step'+e+'commands" class="commands"></p>'),n.showProgress&&"function"!=typeof n.progress&&(n.showStepNo?d("#steps").append("<li id='stepDesc"+e+"'>Step "+(e+1)+"<span>"+d(this).find("legend").html()+"</span></li>"):d("#steps").append("<li id='stepDesc"+e+"'>"+d(this).find("legend").html()+"</li>")),0==e?(r(e),l(e)):e==s-1?(d("#step"+e).hide(),a(e),d(o).addClass("next").detach().appendTo("#step"+e+"commands")):(d("#step"+e).hide(),a(e),r(e))});else if("string"==typeof n){t=n;if(n=d(i).data("options"),"function"!=typeof(p={GotoStep:function(e){var t="step"+--e;if(void 0===d("#"+t)[0])throw"Step No "+e+" not found!";"none"===d("#"+t).css("display")&&(d(i).find(".stepDetails").hide(),d("#"+t).show(),l(e))},NextStep:function(){d(".stepDetails:visible").find("a.next").click()},PreviousStep:function(){d(".stepDetails:visible").find("a.prev").click()}})[t])throw t+" is invalid command!";p[t](e)}function a(t){var s="step"+t;d("#"+s+"commands").append("<"+n.buttonTag+' href="#" id="'+s+'Prev" class="'+n.prevBtnClass+'">'+n.prevBtnName+"</"+n.buttonTag+">"),d("#"+s+"Prev").bind("click",function(e){return d("#"+s).hide(),d("#step"+(t-1)).show(),l(t-1),!1})}function r(t){var s="step"+t;d("#"+s+"commands").append("<"+n.buttonTag+' href="#" id="'+s+'Next" class="'+n.nextBtnClass+'">'+n.nextBtnName+"</"+n.buttonTag+">"),d("#"+s+"Next").bind("click",function(e){return!0===n.validateBeforeNext(i,d("#"+s))&&(d("#"+s).hide(),d("#step"+(t+1)).show(),l(t+1)),!1})}function l(e){"function"==typeof n.progress?n.progress(e,s):n.showProgress&&(d("#steps li").removeClass("current"),d("#stepDesc"+e).addClass("current")),n.select&&n.select(i,d("#step"+e))}return this}}(jQuery);